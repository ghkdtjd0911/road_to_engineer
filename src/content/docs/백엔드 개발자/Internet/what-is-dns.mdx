---
title: DNS
---

### DNS란?

DNS(Domain Name System)는 사람이 이해하기 쉬운 도메인 이름(예: nytimes.com)을 컴퓨터가 사용하는 IP 주소로 변환하는 인터넷의 전화번호부 역할을 합니다.

인터넷에 연결된 모든 기기는 고유한 IP 주소를 가지며, 이는 다른 기기가 해당 기기를 찾는 데 사용됩니다. 

DNS 서버는 사용자가 192.168.1.1과 같은 IP 주소를 외울 필요 없이 웹사이트에 접속할 수 있도록 돕습니다. 

DNS 확인 프로세스는 호스트 이름(예: www.example.com) 을 컴퓨터가 이해할 수 있는 IP 주소(예: 192.168.1.1)로 변환하는 과정을 포함합니다.

### DNS 조회 과정 

웹 브라우저에서 웹 페이지를 로드하려면 DNS 쿼리가 거쳐야 하는 여러 하드웨어 구성 요소가 있습니다.

#### DNS 조회의 8단계
- 사용자가 웹 브라우저에 ‘example.com’을 입력합니다.
- 쿼리는 DNS 재귀 확인자로 이동합니다.
- 확인자는 DNS 루트 네임 서버(.)를 쿼리합니다.
- 루트 서버는 최상위 도메인(TLD) DNS 서버의 주소를 확인자에게 응답합니다.
- 확인자는 .com TLD에 요청을 합니다.
- TLD 서버는 도메인의 네임 서버(example.com) IP 주소로 응답합니다.
- 확인자는 도메인의 네임 서버에 쿼리를 보냅니다.
- example.com의 IP 주소가 네임 서버에서 확인자로 반환됩니다.

### DNS 서버 유형 

- DNS 재귀 확인자: 클라이언트의 재귀 요청에 응답하고 DNS 레코드를 추적하는 컴퓨터
- 루트 네임서버: 사람이 읽을 수 있는 호스트 이름을 IP 주소로 변환하는 첫 번째 단계
- TLD 네임서버: 호스트 이름의 마지막 부분(예: example.com의 경우 TLD 서버는 "com"입니다)을 호스팅
- 권한 있는 네임서버: 요청된 레코드에 대한 IP 주소를 DNS 재귀 확인자에게 반환
- 하위 도메인(예: foo.example.com)의 경우 하위 도메인의 CNAME 레코드를 저장하는 네임 서버가 추가됨

### DNS 쿼리 유형

- 재귀 쿼리: DNS 클라이언트는 DNS 서버(일반적으로 DNS 재귀 확인자)가 요청된 리소스 레코드 또는 오류 메시지로 응답해야 합니다.
- 반복 쿼리: DNS 클라이언트는 DNS 서버가 최상의 답변을 반환하도록 허용합니다. 
- 비재귀 쿼리: DNS 확인자 클라이언트가 레코드에 대한 권한이 있거나 레코드가 캐시 내에 있기 때문에 액세스 권한이 있는 DNS 서버를 쿼리하는 경우 발생

### DNS 캐싱

DNS 캐싱은 요청하는 클라이언트에 더 가까운 곳에 데이터를 저장하여 DNS 쿼리를 더 빨리 해결하고 DNS 조회 체인 아래로 추가 쿼리를 방지합니다. 

- 브라우저 DNS 캐싱: 최신 웹 브라우저는 기본적으로 DNS 레코드를 설정된 시간 동안 캐시하도록 설계되었습니다. 
- 운영 체제(OS) 수준 DNS 캐싱: 운영 체제 수준 DNS 확인자는 DNS 쿼리가 컴퓨터를 떠나기 전에 마지막으로 중지되는 곳입니다. 

ISP 내부의 재귀 확인자는 DNS 쿼리를 수신할 때 요청된 호스트-IP 주소 변환이 로컬 지속성 계층 내에 이미 저장되어 있는지 확인합니다. 

### References
[What is DNS? | How DNS works](https://www.cloudflare.com/en-gb/learning/dns/what-is-dns/)
